webpackJsonp([0],Array(52).concat([function(e,t,r){var o=r(18)(r(128),r(174),function(e){r(157),r(158)},"data-v-593247a8",null);e.exports=o.exports},,,function(e,t,r){e.exports=r(0)(12)},function(e,t,r){e.exports=r(0)(5)},function(e,t,r){e.exports=r(0)(128)},function(e,t,r){e.exports=r(0)(17)},function(e,t,r){e.exports=r(0)(54)},function(e,t,r){"use strict";var o={};o.netImg="https://luckydrawbackstage.allcitygo.com:9005/",o.nethost="https://bmapi.allcitygo.com:13002/luckydraw/",t.a=o},function(e,t,r){"use strict";r.d(t,"b",function(){return m}),r.d(t,"a",function(){return f}),r.d(t,"c",function(){return h});var o=r(83),a=r.n(o),n=r(62),i=r.n(n),l=r(93),s=r.n(l),u=(r(60),r(3));r.n(u),window.sessionStorage.getItem("ak")||window.localStorage.getItem("ak");window.Promise||(window.Promise=i.a);var c=function(e){var t=e.data;return t.code,0===t.code||"0"===t.code?t:2e4==t.code?t:302!==t.code&&(5===t.code&&u.Message.error("系统维护中，请稍后再试。"),i.a.reject(e.data,e))},d=function(e){return i.a.reject(e.response.data||{},e.response)},p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.data,r=void 0===t?{}:t,o=e.params,n=void 0===o?{}:o,i=e.method,l=void 0===i?"":i,u=e.url,p=void 0===u?"":u,m=e.headers,f=void 0===m?{}:m,h={method:l,url:p,data:r,params:n,responseType:"json",withCredentials:!0};return h.headers={"Content-Type":"application/json; charset=UTF-8",access_token:function(){for(var e=(document.cookie||"x-access-token=1_5d8751a17de3415daf386781f78a52d1").split("; "),t=0;t<e.length;t++){var r=e[t].split("=");if("x-access-token"==r[0])return r[1]}}()},a()(h.headers,f),a()(h.params,{_:(new Date).getTime()}),s()(h).then(c,d)},m=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return p({url:e,method:"GET",params:t,headers:r})},f=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return p({url:e,method:"POST",data:t,headers:r})},h=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return p({url:e,method:"PUT",data:t,headers:r})}},function(e,t,r){e.exports={default:r(68),__esModule:!0}},function(e,t,r){var o=r(59),a=r(55)("toStringTag"),n="Arguments"==o(function(){return arguments}());e.exports=function(e){var t,r,i;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(r=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),a))?r:n?o(t):"Object"==(i=o(t))&&"function"==typeof t.callee?"Arguments":i}},function(e,t,r){var o,a,n,i=r(57),l=r(71),s=r(84),u=r(92),c=r(56),d=c.process,p=c.setImmediate,m=c.clearImmediate,f=c.MessageChannel,h=0,_={},v="onreadystatechange",y=function(){var e=+this;if(_.hasOwnProperty(e)){var t=_[e];delete _[e],t()}},g=function(e){y.call(e.data)};p&&m||(p=function(e){for(var t=[],r=1;arguments.length>r;)t.push(arguments[r++]);return _[++h]=function(){l("function"==typeof e?e:Function(e),t)},o(h),h},m=function(e){delete _[e]},"process"==r(59)(d)?o=function(e){d.nextTick(i(y,e,1))}:f?(n=(a=new f).port2,a.port1.onmessage=g,o=i(n.postMessage,n,1)):c.addEventListener&&"function"==typeof postMessage&&!c.importScripts?(o=function(e){c.postMessage(e+"","*")},c.addEventListener("message",g,!1)):o=v in u("script")?function(e){s.appendChild(u("script"))[v]=function(){s.removeChild(this),y.call(e)}}:function(e){setTimeout(i(y,e,1),0)}),e.exports={set:p,clear:m}},function(e,t,r){e.exports=r(0)(125)},function(e,t,r){e.exports=r(0)(27)},function(e,t,r){"use strict";var o=function(e){return("0"+e).slice(-2)},a=function e(t){this.d=t instanceof e?function(e){return new Date(e.getTime())}(t.d):t?new Date(t):new Date};a.prototype={addMonths:function(e){var t=this.d;return this.d.setMonth(t.getMonth()+e),this},addDate:function(e){var t=this.d;return this.d.setDate(t.getDate()+e),this},format:function(e){e||(e="YYYY-MM-DD");var t=this.d;return e.replace("YYYY",t.getFullYear()).replace("MM",o(t.getMonth()+1)).replace("DD",o(t.getDate())).replace("d",t.getDay()).replace("HH",o(t.getHours())).replace("mm",o(t.getMinutes())).replace("ss",o(t.getSeconds()))},formats:function(e){e||(e="YYYY-MM-DD HH:mm:ss");var t=this.d;return e.replace("YYYY",t.getFullYear()).replace("MM",o(t.getMonth()+1)).replace("DD",o(t.getDate())).replace("d",t.getDay()).replace("HH",o(t.getHours())).replace("mm",o(t.getMinutes())).replace("ss",o(t.getSeconds()))},year:function(e){return e?(this.d.setYear(e),this):this.d.getFullYear()},month:function(e){return e?(this.d.setMonth(e),this):this.d.getMonth()},date:function(e){return e?(this.d.setDate(e),this):this.d.getDate()},day:function(){return this.d.getDay()}},t.a=function(e){return new a(e)}},function(e,t,r){r(86),r(87),r(88),r(80),e.exports=r(2).Promise},function(e,t){e.exports=function(e,t,r,o){if(!(e instanceof t)||void 0!==o&&o in e)throw TypeError(r+": incorrect invocation!");return e}},function(e,t,r){var o=r(57),a=r(73),n=r(72),i=r(58),l=r(85),s=r(79),u={},c={};(t=e.exports=function(e,t,r,d,p){var m,f,h,_,v=p?function(){return e}:s(e),y=o(r,d,t?2:1),g=0;if("function"!=typeof v)throw TypeError(e+" is not iterable!");if(n(v)){for(m=l(e.length);m>g;g++)if((_=t?y(i(f=e[g])[0],f[1]):y(e[g]))===u||_===c)return _}else for(h=v.call(e);!(f=h.next()).done;)if((_=a(h,y,f.value,t))===u||_===c)return _}).BREAK=u,t.RETURN=c},function(e,t){e.exports=function(e,t,r){var o=void 0===r;switch(t.length){case 0:return o?e():e.call(r);case 1:return o?e(t[0]):e.call(r,t[0]);case 2:return o?e(t[0],t[1]):e.call(r,t[0],t[1]);case 3:return o?e(t[0],t[1],t[2]):e.call(r,t[0],t[1],t[2]);case 4:return o?e(t[0],t[1],t[2],t[3]):e.call(r,t[0],t[1],t[2],t[3])}return e.apply(r,t)}},function(e,t,r){var o=r(66),a=r(55)("iterator"),n=Array.prototype;e.exports=function(e){return void 0!==e&&(o.Array===e||n[a]===e)}},function(e,t,r){var o=r(58);e.exports=function(e,t,r,a){try{return a?t(o(r)[0],r[1]):t(r)}catch(t){var n=e.return;throw void 0!==n&&o(n.call(e)),t}}},function(e,t,r){var o=r(55)("iterator"),a=!1;try{var n=[7][o]();n.return=function(){a=!0},Array.from(n,function(){throw 2})}catch(e){}e.exports=function(e,t){if(!t&&!a)return!1;var r=!1;try{var n=[7],i=n[o]();i.next=function(){return{done:r=!0}},n[o]=function(){return i},e(n)}catch(e){}return r}},function(e,t,r){var o=r(56),a=r(64).set,n=o.MutationObserver||o.WebKitMutationObserver,i=o.process,l=o.Promise,s="process"==r(59)(i);e.exports=function(){var e,t,r,u=function(){var o,a;for(s&&(o=i.domain)&&o.exit();e;){a=e.fn,e=e.next;try{a()}catch(o){throw e?r():t=void 0,o}}t=void 0,o&&o.enter()};if(s)r=function(){i.nextTick(u)};else if(n){var c=!0,d=document.createTextNode("");new n(u).observe(d,{characterData:!0}),r=function(){d.data=c=!c}}else if(l&&l.resolve){var p=l.resolve();r=function(){p.then(u)}}else r=function(){a.call(o,u)};return function(o){var a={fn:o,next:void 0};t&&(t.next=a),e||(e=a,r()),t=a}}},function(e,t,r){var o=r(81);e.exports=function(e,t,r){for(var a in t)r&&e[a]?e[a]=t[a]:o(e,a,t[a]);return e}},function(e,t,r){"use strict";var o=r(56),a=r(2),n=r(82),i=r(94),l=r(55)("species");e.exports=function(e){var t="function"==typeof a[e]?a[e]:o[e];i&&t&&!t[l]&&n.f(t,l,{configurable:!0,get:function(){return this}})}},function(e,t,r){var o=r(58),a=r(65),n=r(55)("species");e.exports=function(e,t){var r,i=o(e).constructor;return void 0===i||void 0==(r=o(i)[n])?t:a(r)}},function(e,t,r){var o=r(63),a=r(55)("iterator"),n=r(66);e.exports=r(2).getIteratorMethod=function(e){if(void 0!=e)return e[a]||e["@@iterator"]||n[o(e)]}},function(e,t,r){"use strict";var o,a,n,i=r(90),l=r(56),s=r(57),u=r(63),c=r(19),d=r(89),p=r(65),m=r(69),f=r(70),h=r(78),_=r(64).set,v=r(75)(),y="Promise",g=l.TypeError,b=l.process,w=l[y],x="process"==u(b=l.process),F=function(){},k=!!function(){try{var e=w.resolve(1),t=(e.constructor={})[r(55)("species")]=function(e){e(F,F)};return(x||"function"==typeof PromiseRejectionEvent)&&e.then(F)instanceof t}catch(e){}}(),L=function(e,t){return e===t||e===w&&t===n},$=function(e){var t;return!(!d(e)||"function"!=typeof(t=e.then))&&t},C=function(e){return L(w,e)?new z(e):new a(e)},z=a=function(e){var t,r;this.promise=new e(function(e,o){if(void 0!==t||void 0!==r)throw g("Bad Promise constructor");t=e,r=o}),this.resolve=p(t),this.reject=p(r)},S=function(e){try{e()}catch(e){return{error:e}}},j=function(e,t){if(!e._n){e._n=!0;var r=e._c;v(function(){for(var o=e._v,a=1==e._s,n=0,i=function(t){var r,n,i=a?t.ok:t.fail,l=t.resolve,s=t.reject,u=t.domain;try{i?(a||(2==e._h&&P(e),e._h=1),!0===i?r=o:(u&&u.enter(),r=i(o),u&&u.exit()),r===t.promise?s(g("Promise-chain cycle")):(n=$(r))?n.call(r,l,s):l(r)):s(o)}catch(e){s(e)}};r.length>n;)i(r[n++]);e._c=[],e._n=!1,t&&!e._h&&T(e)})}},T=function(e){_.call(l,function(){var t,r,o,a=e._v;if(E(e)&&(t=S(function(){x?b.emit("unhandledRejection",a,e):(r=l.onunhandledrejection)?r({promise:e,reason:a}):(o=l.console)&&o.error&&o.error("Unhandled promise rejection",a)}),e._h=x||E(e)?2:1),e._a=void 0,t)throw t.error})},E=function(e){if(1==e._h)return!1;for(var t,r=e._a||e._c,o=0;r.length>o;)if((t=r[o++]).fail||!E(t.promise))return!1;return!0},P=function(e){_.call(l,function(){var t;x?b.emit("rejectionHandled",e):(t=l.onrejectionhandled)&&t({promise:e,reason:e._v})})},M=function(e){var t=this;t._d||(t._d=!0,(t=t._w||t)._v=e,t._s=2,t._a||(t._a=t._c.slice()),j(t,!0))},D=function(e){var t,r=this;if(!r._d){r._d=!0,r=r._w||r;try{if(r===e)throw g("Promise can't be resolved itself");(t=$(e))?v(function(){var o={_w:r,_d:!1};try{t.call(e,s(D,o,1),s(M,o,1))}catch(e){M.call(o,e)}}):(r._v=e,r._s=1,j(r,!1))}catch(e){M.call({_w:r,_d:!1},e)}}};k||(w=function(e){m(this,w,y,"_h"),p(e),o.call(this);try{e(s(D,this,1),s(M,this,1))}catch(e){M.call(this,e)}},(o=function(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=r(76)(w.prototype,{then:function(e,t){var r=C(h(this,w));return r.ok="function"!=typeof e||e,r.fail="function"==typeof t&&t,r.domain=x?b.domain:void 0,this._c.push(r),this._a&&this._a.push(r),this._s&&j(this,!1),r.promise},catch:function(e){return this.then(void 0,e)}}),z=function(){var e=new o;this.promise=e,this.resolve=s(D,e,1),this.reject=s(M,e,1)}),c(c.G+c.W+c.F*!k,{Promise:w}),r(91)(w,y),r(77)(y),n=r(2)[y],c(c.S+c.F*!k,y,{reject:function(e){var t=C(this);return(0,t.reject)(e),t.promise}}),c(c.S+c.F*(i||!k),y,{resolve:function(e){if(e instanceof w&&L(e.constructor,this))return e;var t=C(this);return(0,t.resolve)(e),t.promise}}),c(c.S+c.F*!(k&&r(74)(function(e){w.all(e).catch(F)})),y,{all:function(e){var t=this,r=C(t),o=r.resolve,a=r.reject,n=S(function(){var r=[],n=0,i=1;f(e,!1,function(e){var l=n++,s=!1;r.push(void 0),i++,t.resolve(e).then(function(e){s||(s=!0,r[l]=e,--i||o(r))},a)}),--i||o(r)});return n&&a(n.error),r.promise},race:function(e){var t=this,r=C(t),o=r.reject,a=S(function(){f(e,!1,function(e){t.resolve(e).then(r.resolve,o)})});return a&&o(a.error),r.promise}})},function(e,t,r){e.exports=r(0)(10)},function(e,t,r){e.exports=r(0)(11)},function(e,t,r){e.exports=r(0)(119)},function(e,t,r){e.exports=r(0)(130)},function(e,t,r){e.exports=r(0)(143)},function(e,t,r){e.exports=r(0)(146)},function(e,t,r){e.exports=r(0)(147)},function(e,t,r){e.exports=r(0)(151)},function(e,t,r){e.exports=r(0)(19)},function(e,t,r){e.exports=r(0)(28)},function(e,t,r){e.exports=r(0)(30)},function(e,t,r){e.exports=r(0)(55)},function(e,t,r){e.exports=r(0)(74)},function(e,t,r){e.exports=r(0)(9)},function(e,t,r){e.exports={default:r(96),__esModule:!0}},function(e,t,r){var o=r(2),a=o.JSON||(o.JSON={stringify:JSON.stringify});e.exports=function(e){return a.stringify.apply(a,arguments)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={props:["loadingShow"],data:function(){return{}},created:function(){},methods:{}}},function(e,t,r){(e.exports=r(39)(!1)).push([e.i,'.logo_loading[data-v-2c177a67]{position:fixed;left:0;top:0;right:0;bottom:0;z-index:2000;background-color:rgba(0,0,0,.8)}.logo_loading .bg[data-v-2c177a67]{width:120px;height:120px;zoom:.5;border-radius:10px;margin:0 auto;top:35%;position:relative;background-color:#fff}.logo_loading .circle[data-v-2c177a67]{position:absolute;width:100px;height:100px;left:8px;top:8px;right:0;background:url("http://static.apitops.com/openimages/princessbay/images/loading-circle.png") 50% no-repeat;background-size:100%;z-index:98;-webkit-animation:load-data-v-2c177a67 1.4s infinite linear;animation:load-data-v-2c177a67 1.4s infinite linear}@-webkit-keyframes load{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@keyframes load-data-v-2c177a67{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}',""])},function(e,t,r){var o=r(98);"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);r(40)("1f404a53",o,!0)},function(e,t,r){var o=r(18)(r(97),r(101),function(e){r(99)},"data-v-2c177a67",null);e.exports=o.exports},function(e,t){e.exports={render:function(){var e=this.$createElement,t=this._self._c||e;return this.loadingShow?t("div",{staticClass:"logo_loading",attrs:{id:"loading"}},[this._m(0)]):this._e()},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"bg"},[t("div",{staticClass:"circle"})])}]}},function(e,t,r){"use strict";var o=r(62),a=r.n(o),n=r(60),i=(r(61),r(61)),l=r(3),s=(r.n(l),n.a.nethost);t.a={getLotteryList:function(e){var t=s+"activity/list";return r.i(i.a)(t,e).then(function(e){return a.a.resolve(e.data||e)},function(e){return a.a.reject(e.data||e)})},getLotteryDetail:function(e){var t=s+"activity/detail/"+e;return r.i(i.b)(t).then(function(e){return a.a.resolve(e.data||e)},function(e){return a.a.reject(e.data||e)})},addLottery:function(e){var t=l.Loading.service({lock:!0,spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"}),o=s+"activity/add";return r.i(i.a)(o,e).then(function(e){return t.close(),a.a.resolve(e.data||e)},function(e){return t.close(),a.a.reject(e.data||e)})},editLottery:function(e){var t=l.Loading.service({lock:!0,spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"}),o=s+"activity/edit";return r.i(i.a)(o,e).then(function(e){return t.close(),a.a.resolve(e.data||e)},function(e){return t.close(),a.a.reject(e.data||e)})},updateLottery:function(e){var t=s+"activity/state";return r.i(i.a)(t,e).then(function(e){return a.a.resolve(e.data||e)},function(e){return a.a.reject(e.data||e)})},getUserList:function(e){var t=s+"activityuser/list";return r.i(i.a)(t,e).then(function(e){return a.a.resolve(e.data||e)},function(e){return a.a.reject(e.data||e)})},getCooperationList:function(e){var t=s+"cooperation/list";return r.i(i.a)(t,e).then(function(e){return a.a.resolve(e.data||e)},function(e){return a.a.reject(e.data||e)})},getPrizeList:function(e){var t=s+"lottery/putaway_list";return r.i(i.b)(t).then(function(e){return a.a.resolve(e.data||e)},function(e){return a.a.reject(e.data||e)})}}},,function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={data:function(){return{}},created:function(){},computed:{},methods:{}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"UE",data:function(){return{editor:null}},props:{defaultMsg:{type:String},config:{type:Object},id:{type:String}},mounted:function(){var e=this;this.editor=UE.getEditor(this.id,this.config),this.editor.addListener("ready",function(){e.editor.setContent(e.defaultMsg)}),console.log("上传这堆错误不用理会，上传接口需自行开发配置")},methods:{getUEContent:function(){return this.editor.getContent()},getUEContentTxt:function(){return this.editor.getContentTxt()}},destroyed:function(){this.editor.destroy()}}},function(e,t,r){(e.exports=r(39)(!1)).push([e.i,".header_container{background-color:#eff2f7;height:60px;display:flex;justify-content:space-between;align-items:center;padding-left:20px}.avator{border-radius:50%;margin-right:37px}.el-dropdown-menu__item{text-align:center}",""])},function(e,t,r){var o=r(106);"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);r(40)("74d93368",o,!0)},function(e,t,r){var o=r(18)(r(104),r(110),function(e){r(107)},null,null);e.exports=o.exports},function(e,t,r){var o=r(18)(r(105),r(111),null,null,null);e.exports=o.exports},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"header_container"},[r("el-breadcrumb",{attrs:{separator:"/"}},[r("el-breadcrumb-item",{attrs:{to:{path:"/manage"}}},[e._v("首页")]),e._v(" "),e._l(e.$route.meta,function(t,o){return r("el-breadcrumb-item",{key:"index"},[e._v(e._s(t))])})],2)],1)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("script",{attrs:{id:this.id,type:"text/plain"}})])},staticRenderFns:[]}},,function(e,t,r){"use strict";t.__esModule=!0;var o=function(e){return e&&e.__esModule?e:{default:e}}(r(62));t.default=function(e){return function(){var t=e.apply(this,arguments);return new o.default(function(e,r){function a(n,i){try{var l=t[n](i),s=l.value}catch(e){return void r(e)}if(!l.done)return o.default.resolve(s).then(function(e){a("next",e)},function(e){a("throw",e)});e(s)}return a("next")})}}},function(e,t,r){e.exports=r(115)},function(e,t,r){(function(t){var o="object"==typeof t?t:"object"==typeof window?window:"object"==typeof self?self:this,a=o.regeneratorRuntime&&Object.getOwnPropertyNames(o).indexOf("regeneratorRuntime")>=0,n=a&&o.regeneratorRuntime;if(o.regeneratorRuntime=void 0,e.exports=r(116),a)o.regeneratorRuntime=n;else try{delete o.regeneratorRuntime}catch(e){o.regeneratorRuntime=void 0}}).call(t,r(20))},function(e,t,r){(function(t){!function(t){"use strict";function r(e,t,r,n){var i=t&&t.prototype instanceof a?t:a,l=Object.create(i.prototype),s=new p(n||[]);return l._invoke=function(e,t,r){var a=k;return function(n,i){if(a===$)throw new Error("Generator is already running");if(a===C){if("throw"===n)throw i;return f()}for(r.method=n,r.arg=i;;){var l=r.delegate;if(l){var s=u(l,r);if(s){if(s===z)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===k)throw a=C,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);a=$;var c=o(e,t,r);if("normal"===c.type){if(a=r.done?C:L,c.arg===z)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(a=C,r.method="throw",r.arg=c.arg)}}}(e,r,s),l}function o(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}function a(){}function n(){}function i(){}function l(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function s(e){function r(t,a,n,i){var l=o(e[t],e,a);if("throw"!==l.type){var s=l.arg,u=s.value;return u&&"object"==typeof u&&v.call(u,"__await")?Promise.resolve(u.__await).then(function(e){r("next",e,n,i)},function(e){r("throw",e,n,i)}):Promise.resolve(u).then(function(e){s.value=e,n(s)},i)}i(l.arg)}"object"==typeof t.process&&t.process.domain&&(r=t.process.domain.bind(r));var a;this._invoke=function(e,t){function o(){return new Promise(function(o,a){r(e,t,o,a)})}return a=a?a.then(o,o):o()}}function u(e,t){var r=e.iterator[t.method];if(r===h){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=h,u(e,t),"throw"===t.method))return z;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return z}var a=o(r,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,z;var n=a.arg;return n?n.done?(t[e.resultName]=n.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=h),t.delegate=null,z):n:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,z)}function c(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function d(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function p(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(c,this),this.reset(!0)}function m(e){if(e){var t=e[g];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(v.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=h,t.done=!0,t};return o.next=o}}return{next:f}}function f(){return{value:h,done:!0}}var h,_=Object.prototype,v=_.hasOwnProperty,y="function"==typeof Symbol?Symbol:{},g=y.iterator||"@@iterator",b=y.asyncIterator||"@@asyncIterator",w=y.toStringTag||"@@toStringTag",x="object"==typeof e,F=t.regeneratorRuntime;if(F)x&&(e.exports=F);else{(F=t.regeneratorRuntime=x?e.exports:{}).wrap=r;var k="suspendedStart",L="suspendedYield",$="executing",C="completed",z={},S={};S[g]=function(){return this};var j=Object.getPrototypeOf,T=j&&j(j(m([])));T&&T!==_&&v.call(T,g)&&(S=T);var E=i.prototype=a.prototype=Object.create(S);n.prototype=E.constructor=i,i.constructor=n,i[w]=n.displayName="GeneratorFunction",F.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===n||"GeneratorFunction"===(t.displayName||t.name))},F.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,i):(e.__proto__=i,w in e||(e[w]="GeneratorFunction")),e.prototype=Object.create(E),e},F.awrap=function(e){return{__await:e}},l(s.prototype),s.prototype[b]=function(){return this},F.AsyncIterator=s,F.async=function(e,t,o,a){var n=new s(r(e,t,o,a));return F.isGeneratorFunction(t)?n:n.next().then(function(e){return e.done?e.value:n.next()})},l(E),E[w]="Generator",E[g]=function(){return this},E.toString=function(){return"[object Generator]"},F.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var o=t.pop();if(o in e)return r.value=o,r.done=!1,r}return r.done=!0,r}},F.values=m,p.prototype={constructor:p,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=h,this.done=!1,this.delegate=null,this.method="next",this.arg=h,this.tryEntries.forEach(d),!e)for(var t in this)"t"===t.charAt(0)&&v.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=h)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){function t(t,o){return n.type="throw",n.arg=e,r.next=t,o&&(r.method="next",r.arg=h),!!o}if(this.done)throw e;for(var r=this,o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],n=a.completion;if("root"===a.tryLoc)return t("end");if(a.tryLoc<=this.prev){var i=v.call(a,"catchLoc"),l=v.call(a,"finallyLoc");if(i&&l){if(this.prev<a.catchLoc)return t(a.catchLoc,!0);if(this.prev<a.finallyLoc)return t(a.finallyLoc)}else if(i){if(this.prev<a.catchLoc)return t(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return t(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&v.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var n=a?a.completion:{};return n.type=e,n.arg=t,a?(this.method="next",this.next=a.finallyLoc,z):this.complete(n)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),z},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),d(r),z}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var o=r.completion;if("throw"===o.type){var a=o.arg;d(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:m(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=h),z}}}}("object"==typeof t?t:"object"==typeof window?window:"object"==typeof self?self:this)}).call(t,r(20))},,,,,,,,,,,,function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(114),a=r.n(o),n=r(113),i=r.n(n),l=r(95),s=r.n(l),u=r(102),c=r(60),d=r(67),p=r(108),m=(r.n(p),r(109)),f=r.n(m),h=r(100),_=r.n(h);t.default={data:function(){return{loadingShow:!1,ue1:"ue1",type:!0,hasLaunched:!1,options:[{value:0,label:"不跳转"},{value:1,label:"小程序"},{value:2,label:"淘宝"},{value:3,label:"天猫"},{value:4,label:"新浪微博"},{value:5,label:"生活号"},{value:6,label:"口碑"}],options2:[{value:0,label:"实物奖品"},{value:1,label:"虚拟奖品"}],options3:[{value:0,label:"时间到即开奖"},{value:1,label:"人数满就开奖"}],prizeList:[],selectValue:{prizeType1:"",prizeType2:"",prize1:"",prize2:""},value:"",ruleForm:{activity_name:"",limit_type:"",limit_num:"",note:"",start_time:"",end_time:"",sponsor_name:"",url_type:"",sponsor_url:"",skip_extra_data:"",app_id:"",sponsor_info:"",img:"",is_pond:"",is_random:"",is_lead:"",lead_url_type:"",is_show:"",pond_amt:"",pond_amt_limit:"",pond_prod:"",pond_power_down:"",pond_power_up:"",award:{name:"",num:"",lottery_id:"",type:"",bus_coupon_template_id:""},award2:{name:"",num:"",lottery_id:"",type:"",bus_coupon_template_id:""},activity_award_list:[]},headers:{UserToken:""},uploadimgUrl:c.a.netImg+"file/upload_file",rules:{activity_name:[{required:!0,message:"请输入活动名称",trigger:"blur"}],note:[{required:!0,message:"请输入描述内容",trigger:"blur"}],pond_amt:[{required:!0,message:"请输入奖池初始金额",trigger:"blur"}],pond_amt_limit:[{required:!0,message:"请输入奖池上限金额",trigger:"blur"}],pond_prod:[{required:!0,message:"请输入奖池中奖比例",trigger:"blur"}],sponsor_name:[{required:!0,message:"请输入赞助商名称",trigger:"blur"}],sponsor_info:[{required:!0,message:"请输入赞助商描述",trigger:"blur"}],pond_power_down:[{required:!0,message:"请输入助力金额范围",trigger:"blur"}],pond_power_up:[{required:!0,message:"请输入助力金额范围",trigger:"blur"}],img:[{required:!0,message:"封面图片"}]}}},created:function(){2==this.$route.query.type&&(this.type=!1),1==this.$route.query.state&&(this.hasLaunched=!0),this.getPrizeList()},updated:function(){},components:{AppLoading:_.a,UE:f.a},methods:{getLotteryDetail:function(){var e=this;u.a.getLotteryDetail(this.$route.query.id).then(function(t){e.ruleForm=JSON.parse(s()(t)),console.log(e.ruleForm),e.value=t.url_type,t.start_time&&(e.ruleForm.start_time=new Date(t.start_time)),e.ruleForm.end_time=new Date(t.end_time),e.ruleForm.award=t.activity_award_list[0],e.selectValue.prizeType1=t.activity_award_list[0].type,e.selectValue.prize1=t.activity_award_list[0].lottery_id,t.activity_award_list.length>1?(e.ruleForm.award2=t.activity_award_list[1],e.selectValue.prizeType2=t.activity_award_list[1].type,e.selectValue.prize2=t.activity_award_list[1].lottery_id):(e.ruleForm.award2={name:"",num:"",lottery_id:"",type:""},e.selectValue.prizeType2="",e.selectValue.prize2=""),e.ruleForm.pond_amt=t.pond_amt/100,e.ruleForm.pond_amt_limit=t.pond_amt_limit/100,e.ruleForm.pond_power_down=t.pond_power_down/100,e.ruleForm.pond_power_up=t.pond_power_up/100,e.editor.txt.html(t.note),t.is_pond||(delete e.rules.pond_amt,delete e.rules.pond_amt_limit,delete e.rules.pond_power_down,delete e.rules.pond_power_up,delete e.rules.pond_prod,console.log(e.rules)),console.log(e.ruleForm),console.log(e.selectValue)},function(t){e.$message.error(t.message)})},getPrizeList:function(){var e=this;u.a.getPrizeList(this.$route.query.id).then(function(t){t.unshift({name:"公交乘车券",id:-1}),t.unshift({name:"中奖码",id:-2}),console.log(e.prizeList),e.prizeList=t},function(t){e.$message.error(t.message)})},compareAmt:function(e){console.log(this.ruleForm.pond_power_down+","+this.ruleForm.pond_power_up),""!==this.ruleForm.pond_power_down&&""!==this.ruleForm.pond_power_up&&(console.log("not null"),Number(this.ruleForm.pond_power_down)>Number(this.ruleForm.pond_power_up)&&(console.log(this.ruleForm.pond_power_down,this.ruleForm.pond_power_up),this.$message.error("右边数值须大于左边"),this.ruleForm.pond_power_down=0,this.ruleForm.pond_power_up=0))},isSetPond:function(e){0==e&&(delete this.rules.pond_amt,delete this.rules.pond_amt_limit,delete this.rules.pond_power_down,delete this.rules.pond_power_up,delete this.rules.pond_prod,console.log(this.rules)),1==e&&(this.rules.pond_amt=[{required:!0,message:"请输入奖池初始金额",trigger:"blur"}],this.rules.pond_amt_limit=[{required:!0,message:"请输入奖池上限金额",trigger:"blur"}],this.rules.pond_power_down=[{required:!0,message:"请输入助力金额范围",trigger:"blur"}],this.rules.pond_power_up=[{required:!0,message:"请输入助力金额范围",trigger:"blur"}],this.rules.pond_prod=[{required:!0,message:"请输入奖池中奖比例",trigger:"blur"}],console.log(this.rules))},handleDelete:function(e){var t=this;this.$confirm("是否删除图片?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.ruleForm.smallImages.splice(e,1)}).catch(function(){t.$message({type:"info",message:"已撤销"})})},handleCoverDelete:function(){this.ruleForm.img=""},submitForm:function(e){var t=this;this.ruleForm.note=this.editor.txt.html();var o=this.ruleForm.note;if("<br>"==o.slice(-8,-4)){console.log("末尾换行了");var a=o.slice(0,-8),n=o.slice(-4);this.ruleForm.note=a+n,console.log(this.ruleForm.note)}this.ruleForm.start_time=r.i(d.a)(this.ruleForm.start_time).formats(),this.ruleForm.end_time=r.i(d.a)(this.ruleForm.end_time).formats(),this.ruleForm.url_type=this.value,console.log(this.ruleForm.note),this.ruleForm.award.type=this.selectValue.prizeType1,this.ruleForm.award.lottery_id=this.selectValue.prize1,this.ruleForm.award2.type=this.selectValue.prizeType2,this.ruleForm.award2.lottery_id=this.selectValue.prize2;var i=this.ruleForm.award,l=this.ruleForm.award2;this.ruleForm.activity_award_list=[],this.ruleForm.activity_award_list.push(i),this.ruleForm.award2.name&&this.ruleForm.activity_award_list.push(l),this.$refs[e].validate(function(e){if(!e)return t.$message.error("表单验证错误"),console.log("error submit!!"),!1;if(console.log(t.ruleForm.award.type+"ttyyppee"),""===t.ruleForm.award.type)return t.$message.error("请选择奖品1类别"),!1;if("<p><br></p>"!=t.ruleForm.note&&"<p></p>"!=t.ruleForm.note){t.ruleForm.pond_amt=100*t.ruleForm.pond_amt,t.ruleForm.pond_amt_limit=100*t.ruleForm.pond_amt_limit,t.ruleForm.pond_power_down=100*t.ruleForm.pond_power_down,t.ruleForm.pond_power_up=100*t.ruleForm.pond_power_up;var r=JSON.parse(s()(t.ruleForm));delete r.award,delete r.award2,u.a.editLottery(r).then(function(e){t.$message({message:"保存成功",type:"success"});t.$router.push("./lotteryList")},function(e){t.ruleForm.pond_amt=t.ruleForm.pond_amt/100,t.ruleForm.pond_amt_limit=t.ruleForm.pond_amt_limit/100,t.ruleForm.pond_power_down=t.ruleForm.pond_power_down/100,t.ruleForm.pond_power_up=t.ruleForm.pond_power_up/100,t.$confirm(""+e.message,"",{confirmButtonText:"确定",type:"error",center:!0}).then(function(){}).catch(function(){})})}else t.$message.error("请填写商品描述")})},initEditor:function(){var e=new(0,window.wangEditor)("#editor");this.editor=e,this.editor.customConfig.uploadImgServer=c.a.netImg+"/file/upload_file",this.editor.customConfig.withCredentials=!0,this.editor.customConfig.uploadFileName="multipartFiles",this.editor.customConfig.uploadImgParams={},this.editor.customConfig.linkImgCallback=function(t){console.log(result);result.data;e.cmd.do("insertHTML",'<img src="https://sit-img-citytsm.oss-cn-hangzhou.aliyuncs.com/'+result.data+'" style="max-width:100%;"/>')},this.editor.customConfig.uploadImgHooks={before:function(e,t,r){var o=r[0].size/1024/1024<10,a=r[0].type.indexOf("image")>-1;return a||this.$message.error("只能上传图片!"),o||this.$message.error("上传文件不能超过 10MB!"),o&&a},success:function(e,t,r){r.data;t.cmd.do("insertHTML",'<img src="https://sit-img-citytsm.oss-cn-hangzhou.aliyuncs.com/'+r.data+'" style="max-width:100%;"/>')},fail:function(e,t,r){},error:function(e,t){},timeout:function(e,t){},customInsert:function(e,t,r){}},e.create()},handleAvatarSuccess:function(e,t){var r="https://sit-img-citytsm.oss-cn-hangzhou.aliyuncs.com/"+e.data;this.ruleForm.smallImages.push(r)},beforeAvatarUpload:function(e){var t="image/jpeg"===e.type||"image/jpg",r=e.size/1024/1024<2;return t||this.$message.error("上传头像图片只能是 JPG 格式!"),r||this.$message.error("上传头像图片大小不能超过 2MB!"),t&&r},handleCoverSuccess:function(e,t){this.ruleForm.img="https://sit-img-citytsm.oss-cn-hangzhou.aliyuncs.com/"+e.data}},mounted:function(){var e=this;return i()(a.a.mark(function t(){return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.$nextTick(function(){e.initEditor()}),t.next=3,e.getLotteryDetail();case 3:case"end":return t.stop()}},t,e)}))()},computed:{beginPickerOptions:function(){var e=this;return{disabledDate:function(t){if(e.ruleForm.end_time)return t>e.ruleForm.end_time}}},endPickerOptions:function(){var e=this;return{disabledDate:function(t){return t<e.ruleForm.start_time}}}},watch:{loadingShow:function(e){return e}}}},,,,,,,,,,,function(e,t,r){(e.exports=r(39)(!1)).push([e.i,".avatar-uploader-icon{font-size:28px;color:#8c939d;width:120px;height:120px;line-height:120px;text-align:center}.avatar{width:120px;height:120px;display:block;margin:10px 10px 0 0}.header-banner{position:relative}.deletImg{position:absolute;width:100%;height:100%;left:0;top:0;cursor:default;text-align:center;color:#fff;opacity:0;font-size:20px;background-color:rgba(0,0,0,.5);transition:opacity .3s}.deletImg:hover{opacity:1}.deletImg2{position:absolute;top:40%;left:45%}",""])},function(e,t,r){(e.exports=r(39)(!1)).push([e.i,'.bgcolor[data-v-593247a8]{color:#999!important}#editor[data-v-593247a8]{width:800px}.comm-dis[data-v-593247a8]{display:flex}.add-goods .quan[data-v-593247a8]{margin:-10px 0 0 120px;line-height:32px;color:#595e66}.add-goods .quan[data-v-593247a8]:after{content:" ";display:block;height:0;clear:both}.add-goods .tips[data-v-593247a8]{margin:0 0 10px 200px;color:#f56c6c;font-size:12px}.add-goods .commodityList[data-v-593247a8]{width:500px;margin:0 0 20px 200px}.add-goods .table[data-v-593247a8]{margin:20px 30px 10px 0;width:500px}.add-goods .detail-content[data-v-593247a8]{cursor:pointer;color:#20a0ff}.add-goods .redFlag[data-v-593247a8]{position:relative;left:112px;top:5px;color:#f56c6c;margin-right:4px}',""])},,,,,,,,,,,,,,,,,function(e,t,r){var o=r(139);"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);r(40)("0a082871",o,!0)},function(e,t,r){var o=r(140);"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);r(40)("37ceced0",o,!0)},,,,,,,,,,,,,,,,function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"add-goods"},[r("div",{staticClass:"pl20px pt30 pr20 mt10"},[r("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"180px"}},[r("el-form-item",{attrs:{label:"活动名称",prop:"activity_name"}},[r("el-input",{staticClass:"w350",attrs:{disabled:e.type,placeholder:"活动内容名称"},model:{value:e.ruleForm.activity_name,callback:function(t){e.$set(e.ruleForm,"activity_name",t)},expression:"ruleForm.activity_name"}})],1),e._v(" "),r("div",{staticStyle:{display:"flex"}},[r("el-form-item",{attrs:{label:"奖品1名称",required:"",prop:"award.name"}},[r("el-input",{staticClass:"w200",attrs:{disabled:e.type,placeholder:"奖品名称"},model:{value:e.ruleForm.award.name,callback:function(t){e.$set(e.ruleForm.award,"name",t)},expression:"ruleForm.award.name"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"奖品1份数",required:"",prop:"award.num"}},[r("el-input",{staticClass:"w200",attrs:{type:"number",disabled:e.type,placeholder:"中奖人数"},model:{value:e.ruleForm.award.num,callback:function(t){e.$set(e.ruleForm.award,"num",t)},expression:"ruleForm.award.num"}})],1)],1),e._v(" "),r("div",{staticStyle:{display:"flex"}},[r("el-form-item",{attrs:{label:"奖品1类型",required:""}},[r("el-select",{attrs:{disabled:e.type,placeholder:"请选择"},model:{value:e.selectValue.prizeType1,callback:function(t){e.$set(e.selectValue,"prizeType1",t)},expression:"selectValue.prizeType1"}},e._l(e.options2,function(e){return r("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),1==e.selectValue.prizeType1?r("el-form-item",{attrs:{label:"奖品选择"}},[r("el-select",{attrs:{disabled:e.type,placeholder:"请选择"},model:{value:e.selectValue.prize1,callback:function(t){e.$set(e.selectValue,"prize1",t)},expression:"selectValue.prize1"}},e._l(e.prizeList,function(e){return r("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}))],1):e._e(),e._v(" "),-1===e.selectValue.prize1&&1==e.selectValue.prizeType1?r("el-form-item",{attrs:{label:"乘车券id"}},[r("el-input",{staticClass:"w200",attrs:{disabled:e.type,placeholder:"选择乘车券"},model:{value:e.ruleForm.award.bus_coupon_template_id,callback:function(t){e.$set(e.ruleForm.award,"bus_coupon_template_id",t)},expression:"ruleForm.award.bus_coupon_template_id"}})],1):e._e()],1),e._v(" "),-2===e.selectValue.prize1&&1==e.selectValue.prizeType1?r("div",{staticStyle:{display:"flex"}},[r("el-form-item",{attrs:{label:"中奖码"}},[r("el-input",{staticStyle:{width:"30vw"},attrs:{type:"textarea",autosize:{minRows:4,maxRows:8},placeholder:"请输入中奖码，以英文逗号分隔，不需要结尾句号",disabled:e.type},model:{value:e.ruleForm.award.bus_coupon_template_id,callback:function(t){e.$set(e.ruleForm.award,"bus_coupon_template_id",t)},expression:"ruleForm.award.bus_coupon_template_id"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"使用说明"}},[r("el-input",{staticStyle:{width:"30vw"},attrs:{type:"textarea",autosize:{minRows:4,maxRows:8},placeholder:"请输入中奖码的使用说明",disabled:e.type},model:{value:e.ruleForm.award.instruction,callback:function(t){e.$set(e.ruleForm.award,"instruction",t)},expression:"ruleForm.award.instruction"}})],1)],1):e._e(),e._v(" "),r("div",{staticStyle:{display:"flex"}},[r("el-form-item",{attrs:{label:"奖品2名称"}},[r("el-input",{staticClass:"w200",attrs:{disabled:e.type,placeholder:"奖品名称"},model:{value:e.ruleForm.award2.name,callback:function(t){e.$set(e.ruleForm.award2,"name",t)},expression:"ruleForm.award2.name"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"奖品2份数"}},[r("el-input",{staticClass:"w200",attrs:{type:"number",disabled:e.type,placeholder:"中奖人数"},model:{value:e.ruleForm.award2.num,callback:function(t){e.$set(e.ruleForm.award2,"num",t)},expression:"ruleForm.award2.num"}})],1)],1),e._v(" "),r("div",{staticStyle:{display:"flex"}},[r("el-form-item",{attrs:{label:"奖品2类型"}},[r("el-select",{attrs:{disabled:e.type,placeholder:"请选择"},model:{value:e.selectValue.prizeType2,callback:function(t){e.$set(e.selectValue,"prizeType2",t)},expression:"selectValue.prizeType2"}},e._l(e.options2,function(e){return r("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),1==e.selectValue.prizeType2?r("el-form-item",{attrs:{label:"奖品选择"}},[r("el-select",{attrs:{disabled:e.type,placeholder:"请选择"},model:{value:e.selectValue.prize2,callback:function(t){e.$set(e.selectValue,"prize2",t)},expression:"selectValue.prize2"}},e._l(e.prizeList,function(e){return r("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}))],1):e._e(),e._v(" "),-1===e.selectValue.prize2&&1==e.selectValue.prizeType2?r("el-form-item",{attrs:{label:"乘车券id"}},[r("el-input",{staticClass:"w200",attrs:{disabled:e.type,placeholder:"选择乘车券"},model:{value:e.ruleForm.award2.bus_coupon_template_id,callback:function(t){e.$set(e.ruleForm.award2,"bus_coupon_template_id",t)},expression:"ruleForm.award2.bus_coupon_template_id"}})],1):e._e()],1),e._v(" "),-2===e.selectValue.prize2&&1==e.selectValue.prizeType2?r("div",{staticStyle:{display:"flex"}},[r("el-form-item",{attrs:{label:"中奖码"}},[r("el-input",{staticStyle:{width:"30vw"},attrs:{type:"textarea",autosize:{minRows:4,maxRows:8},placeholder:"请输入中奖码，以英文逗号分隔，不需要结尾句号",disabled:e.type},model:{value:e.ruleForm.award2.bus_coupon_template_id,callback:function(t){e.$set(e.ruleForm.award2,"bus_coupon_template_id",t)},expression:"ruleForm.award2.bus_coupon_template_id"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"使用说明"}},[r("el-input",{staticStyle:{width:"30vw"},attrs:{type:"textarea",autosize:{minRows:4,maxRows:8},placeholder:"请输入中奖码的使用说明",disabled:e.type},model:{value:e.ruleForm.award2.instruction,callback:function(t){e.$set(e.ruleForm.award2,"instruction",t)},expression:"ruleForm.award2.instruction"}})],1)],1):e._e(),e._v(" "),r("div",{staticStyle:{display:"flex"}},[r("el-form-item",{staticClass:"mlminus30",attrs:{label:"开奖类型",required:""}},[r("el-select",{attrs:{disabled:e.type||e.hasLaunched,placeholder:"请选择"},model:{value:e.ruleForm.limit_type,callback:function(t){e.$set(e.ruleForm,"limit_type",t)},expression:"ruleForm.limit_type"}},e._l(e.options3,function(e){return r("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),1==e.ruleForm.limit_type?r("el-form-item",{staticClass:"mlminus50",attrs:{label:"开奖人数",prop:"award.num"}},[r("el-input",{staticClass:"w100",attrs:{disabled:e.type,placeholder:"中奖人数"},model:{value:e.ruleForm.limit_num,callback:function(t){e.$set(e.ruleForm,"limit_num",t)},expression:"ruleForm.limit_num"}})],1):e._e(),e._v(" "),r("el-form-item",{staticClass:"mlminus50",attrs:{label:"开始时间",required:"",prop:"start_time"}},[r("el-date-picker",{attrs:{type:"datetime",placeholder:"开始日期时间","picker-options":e.beginPickerOptions,editable:!1,disabled:e.type||e.hasLaunched},model:{value:e.ruleForm.start_time,callback:function(t){e.$set(e.ruleForm,"start_time",t)},expression:"ruleForm.start_time"}})],1),e._v(" "),r("el-form-item",{staticClass:"mlminus50",attrs:{label:"结束时间",required:"",prop:"end_time"}},[r("el-date-picker",{attrs:{type:"datetime",placeholder:"结束日期时间","picker-options":e.endPickerOptions,editable:!1,disabled:e.type||e.hasLaunched},model:{value:e.ruleForm.end_time,callback:function(t){e.$set(e.ruleForm,"end_time",t)},expression:"ruleForm.end_time"}})],1)],1),e._v(" "),r("div",{staticStyle:{display:"flex"}},[r("el-form-item",{attrs:{label:"赞助商名称",prop:"sponsor_name"}},[r("el-input",{staticClass:"w200",attrs:{disabled:e.type,placeholder:"赞助商名称"},model:{value:e.ruleForm.sponsor_name,callback:function(t){e.$set(e.ruleForm,"sponsor_name",t)},expression:"ruleForm.sponsor_name"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"跳转类型",prop:"value"}},[r("el-select",{attrs:{disabled:e.type,placeholder:"请选择"},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},e._l(e.options,function(e){return r("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),1==e.value?r("el-form-item"):0!=e.value&&6!=e.value?r("el-form-item",{attrs:{label:"赞助商地址",prop:"sponsor_url"}},[r("el-input",{staticClass:"w200",attrs:{disabled:e.type,placeholder:"赞助商地址"},model:{value:e.ruleForm.sponsor_url,callback:function(t){e.$set(e.ruleForm,"sponsor_url",t)},expression:"ruleForm.sponsor_url"}})],1):e._e()],1),e._v(" "),1==e.value||6==e.value?r("div",{staticStyle:{display:"flex"}},[r("el-form-item",{attrs:{label:"APPID",prop:"app_id"}},[r("el-input",{staticClass:"w200",attrs:{disabled:e.type,placeholder:"小程序appid"},model:{value:e.ruleForm.app_id,callback:function(t){e.$set(e.ruleForm,"app_id",t)},expression:"ruleForm.app_id"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"跳转页面/口碑参数",prop:"sponsor_url"}},[r("el-input",{staticClass:"w200",attrs:{disabled:e.type,placeholder:"跳转指定小程序页面"},model:{value:e.ruleForm.sponsor_url,callback:function(t){e.$set(e.ruleForm,"sponsor_url",t)},expression:"ruleForm.sponsor_url"}})],1),e._v(" "),6!=e.value?r("el-form-item",{attrs:{label:"小程序参数",prop:"skip_extra_data"}},[r("el-input",{staticClass:"w200",attrs:{disabled:e.type,placeholder:"跳转小程序时带的参数"},model:{value:e.ruleForm.skip_extra_data,callback:function(t){e.$set(e.ruleForm,"skip_extra_data",t)},expression:"ruleForm.skip_extra_data"}})],1):e._e()],1):e._e(),e._v(" "),r("el-form-item",{attrs:{label:"赞助商描述",prop:"sponsor_info"}},[r("el-input",{staticStyle:{width:"450px"},attrs:{type:"textarea",autosize:{minRows:4,maxRows:8},placeholder:"请输入描述内容",disabled:e.type},model:{value:e.ruleForm.sponsor_info,callback:function(t){e.$set(e.ruleForm,"sponsor_info",t)},expression:"ruleForm.sponsor_info"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"奖品封面图",required:"",prop:"img"}},[r("div",{staticClass:"comm-dis"},[r("div",{staticClass:"header-banner"},[e.ruleForm.img?r("img",{staticClass:"avatar",attrs:{src:e.ruleForm.img}}):e._e(),e._v(" "),e.type?e._e():r("span",{staticClass:"deletImg"},[r("span",{staticClass:"deletImg2",on:{click:e.handleCoverDelete}},[r("i",{staticClass:"el-icon-delete"})])])]),e._v(" "),r("div",{directives:[{name:"show",rawName:"v-show",value:!e.ruleForm.img,expression:"!ruleForm.img"}]},[r("el-upload",{staticClass:"avatar-uploader",attrs:{name:"multipartFiles",action:e.uploadimgUrl,"show-file-list":!1,"on-success":e.handleCoverSuccess,"before-upload":e.beforeAvatarUpload}},[r("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1)])]),e._v(" "),r("el-form-item",{attrs:{label:"商品描述:",required:"",prop:"note"}},[r("div",{staticClass:"components-container"},[r("div",{staticClass:"editor-container"},[r("div",{attrs:{id:"editor"}})])])]),e._v(" "),r("div",{staticStyle:{display:"flex"}},[r("el-form-item",{attrs:{label:"奖池是否配置",required:"",prop:"is_pond"}},[r("el-radio",{attrs:{label:1,disabled:e.type||e.hasLaunched},model:{value:e.ruleForm.is_pond,callback:function(t){e.$set(e.ruleForm,"is_pond",t)},expression:"ruleForm.is_pond"}},[e._v("是")]),e._v(" "),r("el-radio",{attrs:{label:0,disabled:e.type||e.hasLaunched},model:{value:e.ruleForm.is_pond,callback:function(t){e.$set(e.ruleForm,"is_pond",t)},expression:"ruleForm.is_pond"}},[e._v("否")])],1),e._v(" "),r("el-form-item",{attrs:{label:"是否随机瓜分奖池",required:"",prop:"is_random"}},[r("el-radio",{attrs:{label:1,disabled:e.type||e.hasLaunched||0===e.ruleForm.is_pond},model:{value:e.ruleForm.is_random,callback:function(t){e.$set(e.ruleForm,"is_random",t)},expression:"ruleForm.is_random"}},[e._v("是")]),e._v(" "),r("el-radio",{attrs:{label:0,disabled:e.type||e.hasLaunched||0===e.ruleForm.is_pond},model:{value:e.ruleForm.is_random,callback:function(t){e.$set(e.ruleForm,"is_random",t)},expression:"ruleForm.is_random"}},[e._v("否")])],1)],1),e._v(" "),r("div",{staticStyle:{display:"flex"}},[r("el-form-item",{staticClass:"fl",staticStyle:{"margin-bottom":"0"},attrs:{label:"奖池初始金额",prop:"pond_amt"}},[r("el-input",{staticClass:"w200",attrs:{placeholder:"奖池初始金额",disabled:e.type||0===e.ruleForm.is_pond||e.hasLaunched},model:{value:e.ruleForm.pond_amt,callback:function(t){e.$set(e.ruleForm,"pond_amt",t)},expression:"ruleForm.pond_amt"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"奖池上线金额",prop:"pond_amt_limit"}},[r("el-input",{staticClass:"w200",attrs:{placeholder:"奖池上线金额",disabled:e.type||0===e.ruleForm.is_pond||e.hasLaunched},model:{value:e.ruleForm.pond_amt_limit,callback:function(t){e.$set(e.ruleForm,"pond_amt_limit",t)},expression:"ruleForm.pond_amt_limit"}})],1)],1),e._v(" "),r("div",{staticStyle:{display:"flex"}},[r("el-form-item",{staticClass:"fl",staticStyle:{"margin-bottom":"0"},attrs:{label:"奖池中奖比例",prop:"pond_prod"}},[r("el-input",{staticClass:"w200",attrs:{placeholder:"中奖百分比，1-100",disabled:e.type||0===e.ruleForm.is_pond||e.hasLaunched},model:{value:e.ruleForm.pond_prod,callback:function(t){e.$set(e.ruleForm,"pond_prod",t)},expression:"ruleForm.pond_prod"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"助力金额范围",prop:"pond_power_down"}},[r("el-input",{staticClass:"w120",attrs:{placeholder:"最低0",disabled:e.type||0===e.ruleForm.is_pond},on:{change:e.compareAmt},model:{value:e.ruleForm.pond_power_down,callback:function(t){e.$set(e.ruleForm,"pond_power_down",t)},expression:"ruleForm.pond_power_down"}}),e._v(" -\n          "),r("el-input",{staticClass:"w120",attrs:{placeholder:"最高10",disabled:e.type||0===e.ruleForm.is_pond},on:{change:e.compareAmt},model:{value:e.ruleForm.pond_power_up,callback:function(t){e.$set(e.ruleForm,"pond_power_up",t)},expression:"ruleForm.pond_power_up"}})],1)],1),e._v(" "),r("el-form-item",{attrs:{label:"抽奖用户引导是否配置",required:"",prop:"is_pond"}},[r("el-radio",{attrs:{label:1,disabled:e.type},model:{value:e.ruleForm.is_lead,callback:function(t){e.$set(e.ruleForm,"is_lead",t)},expression:"ruleForm.is_lead"}},[e._v("是")]),e._v(" "),r("el-radio",{attrs:{label:0,disabled:e.type},model:{value:e.ruleForm.is_lead,callback:function(t){e.$set(e.ruleForm,"is_lead",t)},expression:"ruleForm.is_lead"}},[e._v("否")])],1),e._v(" "),r("el-form-item",{attrs:{label:"营销文案",prop:"marketing_content"}},[r("el-input",{staticStyle:{width:"450px"},attrs:{type:"textarea",autosize:{minRows:4,maxRows:8},placeholder:"请输入描述内容",disabled:e.type||0===e.ruleForm.is_lead},model:{value:e.ruleForm.marketing_content,callback:function(t){e.$set(e.ruleForm,"marketing_content",t)},expression:"ruleForm.marketing_content"}})],1),e._v(" "),r("div",{staticStyle:{display:"flex"}},[r("el-form-item",{attrs:{label:"按钮文案",prop:"button_name"}},[r("el-input",{staticClass:"w200",attrs:{placeholder:"4字以内",maxlength:"4",disabled:e.type||0===e.ruleForm.is_lead},model:{value:e.ruleForm.button_name,callback:function(t){e.$set(e.ruleForm,"button_name",t)},expression:"ruleForm.button_name"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"跳转类型",prop:"value"}},[r("el-select",{attrs:{disabled:e.type||0===e.ruleForm.is_lead,placeholder:"请选择"},model:{value:e.ruleForm.lead_url_type,callback:function(t){e.$set(e.ruleForm,"lead_url_type",t)},expression:"ruleForm.lead_url_type"}},e._l(e.options,function(e){return r("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),1==e.ruleForm.lead_url_type?r("el-form-item"):0!=e.ruleForm.lead_url_type&&6!=e.ruleForm.lead_url_type?r("el-form-item",{attrs:{label:"赞助商地址",prop:"sponsor_url"}},[r("el-input",{staticClass:"w200",attrs:{disabled:e.type||0===e.ruleForm.is_lead,placeholder:"赞助商地址"},model:{value:e.ruleForm.lead_url,callback:function(t){e.$set(e.ruleForm,"lead_url",t)},expression:"ruleForm.lead_url"}})],1):e._e()],1),e._v(" "),1==e.ruleForm.lead_url_type||6==e.ruleForm.lead_url_type?r("div",{staticStyle:{display:"flex"}},[r("el-form-item",{attrs:{label:"APPID",prop:"app_id"}},[r("el-input",{staticClass:"w200",attrs:{disabled:e.type||0===e.ruleForm.is_lead,placeholder:"小程序appid"},model:{value:e.ruleForm.lead_app_id,callback:function(t){e.$set(e.ruleForm,"lead_app_id",t)},expression:"ruleForm.lead_app_id"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"跳转页面/口碑参数",prop:"sponsor_url"}},[r("el-input",{staticClass:"w200",attrs:{disabled:e.type||0===e.ruleForm.is_lead,placeholder:"跳转指定小程序页面"},model:{value:e.ruleForm.lead_url,callback:function(t){e.$set(e.ruleForm,"lead_url",t)},expression:"ruleForm.lead_url"}})],1)],1):e._e(),e._v(" "),r("el-form-item",{attrs:{label:"是否隐藏活动",required:"",prop:"is_show"}},[r("el-radio",{attrs:{label:0,disabled:e.type},model:{value:e.ruleForm.is_show,callback:function(t){e.$set(e.ruleForm,"is_show",t)},expression:"ruleForm.is_show"}},[e._v("是")]),e._v(" "),r("el-radio",{attrs:{label:1,disabled:e.type},model:{value:e.ruleForm.is_show,callback:function(t){e.$set(e.ruleForm,"is_show",t)},expression:"ruleForm.is_show"}},[e._v("否")])],1),e._v(" "),r("el-form-item",[e.type?e._e():r("el-button",{attrs:{type:"primary"},on:{click:function(t){e.submitForm("ruleForm")}}},[e._v("编辑")])],1)],1)],1),e._v(" "),r("app-loading",{attrs:{loadingShow:e.loadingShow}})],1)},staticRenderFns:[]}}]));